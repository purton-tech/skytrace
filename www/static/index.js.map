{"mappings":"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","sources":["javascript/copy-clipboard.js","javascript/goat-counter.js","javascript/embed-yt-lite.js"],"sourcesContent":["const copyButtonLabel = \"Copy\";\n\n// use a class selector if available\nlet blocks = document.querySelectorAll(\"pre\");\n\nblocks.forEach((block) => {\n  // only add a button if browser supports Clipboard API\n  if (navigator.clipboard) {\n    let button = document.createElement(\"button\");\n    button.innerText = copyButtonLabel;\n    button.classList.add('clipboard');\n    button.addEventListener(\"click\", copyCode);\n    block.appendChild(button);\n  }\n});\n\nasync function copyCode(event) {\n  const button = event.srcElement;\n\n  button.innerText = \"Copied\";\n\n  setTimeout(()=> {\n    button.innerText = copyButtonLabel;\n  }, 5000)\n\n  const pre = button.parentElement;\n  let code = pre.querySelector(\"code\");\n  let text = code.innerText;\n  await navigator.clipboard.writeText(text);\n}","// GoatCounter: https://www.goatcounter.com\n// This file (and *only* this file) is released under the ISC license:\n// https://opensource.org/licenses/ISC\n;(function() {\n\t'use strict';\n\n\tif (window.goatcounter && window.goatcounter.vars)  // Compatibility with very old version; do not use.\n\t\twindow.goatcounter = window.goatcounter.vars\n\telse\n\t\twindow.goatcounter = window.goatcounter || {}\n\n\t// Load settings from data-goatcounter-settings.\n\tvar s = document.querySelector('body[data-goatcounter]')\n\tif (s && s.dataset.goatcounterSettings) {\n\t\ttry         { var set = JSON.parse(s.dataset.goatcounterSettings) }\n\t\tcatch (err) { console.error('invalid JSON in data-goatcounter-settings: ' + err) }\n\t\tfor (var k in set)\n\t\t\tif (['no_onload', 'no_events', 'allow_local', 'allow_frame', 'path', 'title', 'referrer', 'event'].indexOf(k) > -1)\n\t\t\t\twindow.goatcounter[k] = set[k]\n\t}\n\n\tvar enc = encodeURIComponent\n\n\t// Get all data we're going to send off to the counter endpoint.\n\tvar get_data = function(vars) {\n\t\tvar data = {\n\t\t\tp: (vars.path     === undefined ? goatcounter.path     : vars.path),\n\t\t\tr: (vars.referrer === undefined ? goatcounter.referrer : vars.referrer),\n\t\t\tt: (vars.title    === undefined ? goatcounter.title    : vars.title),\n\t\t\te: !!(vars.event || goatcounter.event),\n\t\t\ts: [window.screen.width, window.screen.height, (window.devicePixelRatio || 1)],\n\t\t\tb: is_bot(),\n\t\t\tq: location.search,\n\t\t}\n\n\t\tvar rcb, pcb, tcb  // Save callbacks to apply later.\n\t\tif (typeof(data.r) === 'function') rcb = data.r\n\t\tif (typeof(data.t) === 'function') tcb = data.t\n\t\tif (typeof(data.p) === 'function') pcb = data.p\n\n\t\tif (is_empty(data.r)) data.r = document.referrer\n\t\tif (is_empty(data.t)) data.t = document.title\n\t\tif (is_empty(data.p)) data.p = get_path()\n\n\t\tif (rcb) data.r = rcb(data.r)\n\t\tif (tcb) data.t = tcb(data.t)\n\t\tif (pcb) data.p = pcb(data.p)\n\t\treturn data\n\t}\n\n\t// Check if a value is \"empty\" for the purpose of get_data().\n\tvar is_empty = function(v) { return v === null || v === undefined || typeof(v) === 'function' }\n\n\t// See if this looks like a bot; there is some additional filtering on the\n\t// backend, but these properties can't be fetched from there.\n\tvar is_bot = function() {\n\t\t// Headless browsers are probably a bot.\n\t\tvar w = window, d = document\n\t\tif (w.callPhantom || w._phantom || w.phantom)\n\t\t\treturn 150\n\t\tif (w.__nightmare)\n\t\t\treturn 151\n\t\tif (d.__selenium_unwrapped || d.__webdriver_evaluate || d.__driver_evaluate)\n\t\t\treturn 152\n\t\tif (navigator.webdriver)\n\t\t\treturn 153\n\t\treturn 0\n\t}\n\n\t// Object to urlencoded string, starting with a ?.\n\tvar urlencode = function(obj) {\n\t\tvar p = []\n\t\tfor (var k in obj)\n\t\t\tif (obj[k] !== '' && obj[k] !== null && obj[k] !== undefined && obj[k] !== false)\n\t\t\t\tp.push(enc(k) + '=' + enc(obj[k]))\n\t\treturn '?' + p.join('&')\n\t}\n\n\t// Show a warning in the console.\n\tvar warn = function(msg) {\n\t\tif (console && 'warn' in console)\n\t\t\tconsole.warn('goatcounter: ' + msg)\n\t}\n\n\t// Get the endpoint to send requests to.\n\tvar get_endpoint = function() {\n\t\tvar s = document.querySelector('body[data-goatcounter]')\n\t\tif (s && s.dataset.goatcounter)\n\t\t\treturn s.dataset.goatcounter\n\t\treturn (goatcounter.endpoint || window.counter)  // counter is for compat; don't use.\n\t}\n\n\t// Get current path.\n\tvar get_path = function() {\n\t\tvar loc = location,\n\t\t\tc = document.querySelector('link[rel=\"canonical\"][href]')\n\t\tif (c) {  // May be relative or point to different domain.\n\t\t\tvar a = document.createElement('a')\n\t\t\ta.href = c.href\n\t\t\tif (a.hostname.replace(/^www\\./, '') === location.hostname.replace(/^www\\./, ''))\n\t\t\t\tloc = a\n\t\t}\n\t\treturn (loc.pathname + loc.search) || '/'\n\t}\n\n\t// Run function after DOM is loaded.\n\tvar on_load = function(f) {\n\t\tif (document.body === null)\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() { f() }, false)\n\t\telse\n\t\t\tf()\n\t}\n\n\t// Filter some requests that we (probably) don't want to count.\n\tgoatcounter.filter = function() {\n\t\tif ('visibilityState' in document && document.visibilityState === 'prerender')\n\t\t\treturn 'visibilityState'\n\t\tif (!goatcounter.allow_frame && location !== parent.location)\n\t\t\treturn 'frame'\n\t\tif (!goatcounter.allow_local && location.hostname.match(/(localhost$|^127\\.|^10\\.|^172\\.(1[6-9]|2[0-9]|3[0-1])\\.|^192\\.168\\.|^0\\.0\\.0\\.0$)/))\n\t\t\treturn 'localhost'\n\t\tif (!goatcounter.allow_local && location.protocol === 'file:')\n\t\t\treturn 'localfile'\n\t\tif (localStorage && localStorage.getItem('skipgc') === 't')\n\t\t\treturn 'disabled with #toggle-goatcounter'\n\t\treturn false\n\t}\n\n\t// Get URL to send to GoatCounter.\n\twindow.goatcounter.url = function(vars) {\n\t\tvar data = get_data(vars || {})\n\t\tif (data.p === null)  // null from user callback.\n\t\t\treturn\n\t\tdata.rnd = Math.random().toString(36).substr(2, 5)  // Browsers don't always listen to Cache-Control.\n\n\t\tvar endpoint = get_endpoint()\n\t\tif (!endpoint)\n\t\t\treturn warn('no endpoint found')\n\n\t\treturn endpoint + urlencode(data)\n\t}\n\n\t// Count a hit.\n\twindow.goatcounter.count = function(vars) {\n\t\tvar f = goatcounter.filter()\n\t\tif (f)\n\t\t\treturn warn('not counting because of: ' + f)\n\n\t\tvar url = goatcounter.url(vars)\n\t\tif (!url)\n\t\t\treturn warn('not counting because path callback returned null')\n\n\t\tvar img = document.createElement('img')\n\t\timg.src = url\n\t\timg.style.position = 'absolute'  // Affect layout less.\n\t\timg.style.bottom = '0px'\n\t\timg.style.width = '1px'\n\t\timg.style.height = '1px'\n\t\timg.loading = 'eager'\n\t\timg.setAttribute('alt', '')\n\t\timg.setAttribute('aria-hidden', 'true')\n\n\t\tvar rm = function() { if (img && img.parentNode) img.parentNode.removeChild(img) }\n\t\timg.addEventListener('load', rm, false)\n\t\tdocument.body.appendChild(img)\n\t}\n\n\t// Get a query parameter.\n\twindow.goatcounter.get_query = function(name) {\n\t\tvar s = location.search.substr(1).split('&')\n\t\tfor (var i = 0; i < s.length; i++)\n\t\t\tif (s[i].toLowerCase().indexOf(name.toLowerCase() + '=') === 0)\n\t\t\t\treturn s[i].substr(name.length + 1)\n\t}\n\n\t// Track click events.\n\twindow.goatcounter.bind_events = function() {\n\t\tif (!document.querySelectorAll)  // Just in case someone uses an ancient browser.\n\t\t\treturn\n\n\t\tvar send = function(elem) {\n\t\t\treturn function() {\n\t\t\t\tgoatcounter.count({\n\t\t\t\t\tevent:    true,\n\t\t\t\t\tpath:     (elem.dataset.goatcounterClick || elem.name || elem.id || ''),\n\t\t\t\t\ttitle:    (elem.dataset.goatcounterTitle || elem.title || (elem.innerHTML || '').substr(0, 200) || ''),\n\t\t\t\t\treferrer: (elem.dataset.goatcounterReferrer || elem.dataset.goatcounterReferral || ''),\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tArray.prototype.slice.call(document.querySelectorAll(\"*[data-goatcounter-click]\")).forEach(function(elem) {\n\t\t\tif (elem.dataset.goatcounterBound)\n\t\t\t\treturn\n\t\t\tvar f = send(elem)\n\t\t\telem.addEventListener('click', f, false)\n\t\t\telem.addEventListener('auxclick', f, false)  // Middle click.\n\t\t\telem.dataset.goatcounterBound = 'true'\n\t\t})\n\t}\n\n\t// Add a \"visitor counter\" frame or image.\n\twindow.goatcounter.visit_count = function(opt) {\n\t\ton_load(function() {\n\t\t\topt        = opt        || {}\n\t\t\topt.type   = opt.type   || 'html'\n\t\t\topt.append = opt.append || 'body'\n\t\t\topt.path   = opt.path   || get_path()\n\t\t\topt.attr   = opt.attr   || {width: '200', height: (opt.no_branding ? '60' : '80')}\n\n\t\t\topt.attr['src'] = get_endpoint() + 'er/' + enc(opt.path) + '.' + enc(opt.type) + '?'\n\t\t\tif (opt.no_branding) opt.attr['src'] += '&no_branding=1'\n\t\t\tif (opt.style)       opt.attr['src'] += '&style=' + enc(opt.style)\n\t\t\tif (opt.start)       opt.attr['src'] += '&start=' + enc(opt.start)\n\t\t\tif (opt.end)         opt.attr['src'] += '&end='   + enc(opt.end)\n\n\t\t\tvar tag = {png: 'img', svg: 'img', html: 'iframe'}[opt.type]\n\t\t\tif (!tag)\n\t\t\t\treturn warn('visit_count: unknown type: ' + opt.type)\n\n\t\t\tif (opt.type === 'html') {\n\t\t\t\topt.attr['frameborder'] = '0'\n\t\t\t\topt.attr['scrolling']   = 'no'\n\t\t\t}\n\n\t\t\tvar d = document.createElement(tag)\n\t\t\tfor (var k in opt.attr)\n\t\t\t\td.setAttribute(k, opt.attr[k])\n\n\t\t\tvar p = document.querySelector(opt.append)\n\t\t\tif (!p)\n\t\t\t\treturn warn('visit_count: append not found: ' + opt.append)\n\t\t\tp.appendChild(d)\n\t\t})\n\t}\n\n\t// Make it easy to skip your own views.\n\tif (location.hash === '#toggle-goatcounter') {\n\t\tif (localStorage.getItem('skipgc') === 't') {\n\t\t\tlocalStorage.removeItem('skipgc', 't')\n\t\t\talert('GoatCounter tracking is now ENABLED in this browser.')\n\t\t}\n\t\telse {\n\t\t\tlocalStorage.setItem('skipgc', 't')\n\t\t\talert('GoatCounter tracking is now DISABLED in this browser until ' + location + ' is loaded again.')\n\t\t}\n\t}\n\n\tif (!goatcounter.no_onload)\n\t\ton_load(function() {\n\t\t\t// 1. Page is visible, count request.\n\t\t\t// 2. Page is not yet visible; wait until it switches to 'visible' and count.\n\t\t\t// See #487\n\t\t\tif (!('visibilityState' in document) || document.visibilityState === 'visible')\n\t\t\t\tgoatcounter.count()\n\t\t\telse {\n\t\t\t\tvar f = function(e) {\n\t\t\t\t\tif (document.visibilityState !== 'visible')\n\t\t\t\t\t\treturn\n\t\t\t\t\tdocument.removeEventListener('visibilitychange', f)\n\t\t\t\t\tgoatcounter.count()\n\t\t\t\t}\n\t\t\t\tdocument.addEventListener('visibilitychange', f)\n\t\t\t}\n\n\t\t\tif (!goatcounter.no_events)\n\t\t\t\tgoatcounter.bind_events()\n\t\t})\n})();","/**\n * A lightweight youtube embed. Still should feel the same to the user, just MUCH faster to initialize and paint.\n *\n * Thx to these as the inspiration\n *   https://storage.googleapis.com/amp-vs-non-amp/youtube-lazy.html\n *   https://autoplay-youtube-player.glitch.me/\n *\n * Once built it, I also found these:\n *   https://github.com/ampproject/amphtml/blob/master/extensions/amp-youtube (👍👍)\n *   https://github.com/Daugilas/lazyYT\n *   https://github.com/vb/lazyframe\n */\nclass LiteYTEmbed extends HTMLElement {\n    connectedCallback() {\n        this.videoId = this.getAttribute('videoid');\n\n        let playBtnEl = this.querySelector('.lty-playbtn');\n        // A label for the button takes priority over a [playlabel] attribute on the custom-element\n        this.playLabel = (playBtnEl && playBtnEl.textContent.trim()) || this.getAttribute('playlabel') || 'Play';\n\n        // Set up play button, and its visually hidden label\n        if (!playBtnEl) {\n            playBtnEl = document.createElement('button');\n            playBtnEl.type = 'button';\n            playBtnEl.classList.add('lty-playbtn');\n            this.append(playBtnEl);\n        }\n        if (!playBtnEl.textContent) {\n            const playBtnLabelEl = document.createElement('span');\n            playBtnLabelEl.className = 'lyt-visually-hidden';\n            playBtnLabelEl.textContent = this.playLabel;\n            playBtnEl.append(playBtnLabelEl);\n        }\n        playBtnEl.removeAttribute('href');\n\n        // On hover (or tap), warm up the TCP connections we're (likely) about to use.\n        this.addEventListener('pointerover', LiteYTEmbed.warmConnections, {once: true});\n\n        // Once the user clicks, add the real iframe and drop our play button\n        // TODO: In the future we could be like amp-youtube and silently swap in the iframe during idle time\n        //   We'd want to only do this for in-viewport or near-viewport ones: https://github.com/ampproject/amphtml/pull/5003\n        this.addEventListener('click', this.addIframe);\n\n        // Press play with a suer defined element\n        document.querySelector('.start-youtube').addEventListener(\"click\",  (event) => {\n            playBtnEl.click();\n            event.stopPropagation();\n        });\n\n        // Chrome & Edge desktop have no problem with the basic YouTube Embed with ?autoplay=1\n        // However Safari desktop and most/all mobile browsers do not successfully track the user gesture of clicking through the creation/loading of the iframe,\n        // so they don't autoplay automatically. Instead we must load an additional 2 sequential JS files (1KB + 165KB) (un-br) for the YT Player API\n        // TODO: Try loading the the YT API in parallel with our iframe and then attaching/playing it. #82\n        this.needsYTApiForAutoplay = navigator.vendor.includes('Apple') || navigator.userAgent.includes('Mobi');\n    }\n\n    /**\n     * Add a <link rel={preload | preconnect} ...> to the head\n     */\n    static addPrefetch(kind, url, as) {\n        const linkEl = document.createElement('link');\n        linkEl.rel = kind;\n        linkEl.href = url;\n        if (as) {\n            linkEl.as = as;\n        }\n        document.head.append(linkEl);\n    }\n\n    /**\n     * Begin pre-connecting to warm up the iframe load\n     * Since the embed's network requests load within its iframe,\n     *   preload/prefetch'ing them outside the iframe will only cause double-downloads.\n     * So, the best we can do is warm up a few connections to origins that are in the critical path.\n     *\n     * Maybe `<link rel=preload as=document>` would work, but it's unsupported: http://crbug.com/593267\n     * But TBH, I don't think it'll happen soon with Site Isolation and split caches adding serious complexity.\n     */\n    static warmConnections() {\n        if (LiteYTEmbed.preconnected) return;\n\n        // The iframe document and most of its subresources come right off youtube.com\n        LiteYTEmbed.addPrefetch('preconnect', 'https://www.youtube-nocookie.com');\n        // The botguard script is fetched off from google.com\n        LiteYTEmbed.addPrefetch('preconnect', 'https://www.google.com');\n\n        // Not certain if these ad related domains are in the critical path. Could verify with domain-specific throttling.\n        LiteYTEmbed.addPrefetch('preconnect', 'https://googleads.g.doubleclick.net');\n        LiteYTEmbed.addPrefetch('preconnect', 'https://static.doubleclick.net');\n\n        LiteYTEmbed.preconnected = true;\n    }\n\n    fetchYTPlayerApi() {\n        if (window.YT || (window.YT && window.YT.Player)) return;\n\n        this.ytApiPromise = new Promise((res, rej) => {\n            var el = document.createElement('script');\n            el.src = 'https://www.youtube.com/iframe_api';\n            el.async = true;\n            el.onload = _ => {\n                YT.ready(res);\n            };\n            el.onerror = rej;\n            this.append(el);\n        });\n    }\n\n    async addYTPlayerIframe(params) {\n        this.fetchYTPlayerApi();\n        await this.ytApiPromise;\n\n        const videoPlaceholderEl = document.createElement('div')\n        this.append(videoPlaceholderEl);\n\n        const paramsObj = Object.fromEntries(params.entries());\n\n        new YT.Player(videoPlaceholderEl, {\n            width: '100%',\n            videoId: this.videoId,\n            playerVars: paramsObj,\n            events: {\n                'onReady': event => {\n                    event.target.playVideo();\n                }\n            }\n        });\n    }\n\n    async addIframe(){\n        if (this.classList.contains('lyt-activated')) return;\n        this.classList.add('lyt-activated');\n\n        const params = new URLSearchParams(this.getAttribute('params') || []);\n        params.append('autoplay', '1');\n        params.append('playsinline', '1');\n\n        if (this.needsYTApiForAutoplay) {\n            return this.addYTPlayerIframe(params);\n        }\n\n        const iframeEl = document.createElement('iframe');\n        iframeEl.width = 560;\n        iframeEl.height = 315;\n        // No encoding necessary as [title] is safe. https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html#:~:text=Safe%20HTML%20Attributes%20include\n        iframeEl.title = this.playLabel;\n        iframeEl.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';\n        iframeEl.allowFullscreen = true;\n        // AFAIK, the encoding here isn't necessary for XSS, but we'll do it only because this is a URL\n        // https://stackoverflow.com/q/64959723/89484\n        iframeEl.src = `https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${params.toString()}`;\n        this.append(iframeEl);\n\n        // Set focus for a11y\n        iframeEl.focus();\n    }\n}\n// Register custom element\ncustomElements.define('lite-youtube', LiteYTEmbed);"],"names":["$7b7de339e29d7652$var$copyButtonLabel","async","$7b7de339e29d7652$var$copyCode","event","button","srcElement","innerText","setTimeout","text","parentElement","querySelector","navigator","clipboard","writeText","document","querySelectorAll","forEach","block","createElement","classList","add","addEventListener","appendChild","window","goatcounter","vars","s","dataset","goatcounterSettings","set","JSON","parse","err","console","error","k","indexOf","enc","encodeURIComponent","is_empty","v","is_bot","w","d","callPhantom","_phantom","phantom","__nightmare","__selenium_unwrapped","__webdriver_evaluate","__driver_evaluate","webdriver","warn","msg","get_endpoint","endpoint","counter","get_path","loc","location","c","a","href","hostname","replace","pathname","search","on_load","f","body","filter","visibilityState","allow_frame","parent","allow_local","match","protocol","localStorage","getItem","url","data","rcb","pcb","tcb","p","undefined","path","r","referrer","t","title","e","screen","width","height","devicePixelRatio","b","q","get_data","rnd","Math","random","toString","substr","obj","push","join","urlencode","count","img","src","style","position","bottom","loading","setAttribute","parentNode","removeChild","get_query","name","split","i","length","toLowerCase","bind_events","Array","prototype","slice","call","elem","goatcounterBound","goatcounterClick","id","goatcounterTitle","innerHTML","goatcounterReferrer","goatcounterReferral","send","visit_count","opt","type","append","attr","no_branding","start","end","tag","png","svg","html","hash","removeItem","alert","setItem","no_onload","removeEventListener","no_events","$d186c2e24b97d59c$var$LiteYTEmbed","HTMLElement","connectedCallback","this","videoId","getAttribute","playBtnEl","playLabel","textContent","trim","playBtnLabelEl","className","removeAttribute","warmConnections","once","addIframe","click","stopPropagation","needsYTApiForAutoplay","vendor","includes","userAgent","static","kind","as","linkEl","rel","head","preconnected","addPrefetch","fetchYTPlayerApi","YT","Player","ytApiPromise","Promise","res","rej","el","onload","_","ready","onerror","params","videoPlaceholderEl","paramsObj","Object","fromEntries","entries","playerVars","events","onReady","target","playVideo","contains","URLSearchParams","addYTPlayerIframe","iframeEl","allow","allowFullscreen","focus","customElements","define"],"version":3,"file":"index.js.map"}